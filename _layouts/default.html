<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% if page.title %}{{ page.title }} - {% endif %}CFL Wiki</title>
    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Fraunces:wght@400;600;700&family=Caprasimo&family=Chonburi&family=DM+Serif+Display&family=Abril+Fatface&family=Bricolage+Grotesque:wght@400;600;700&family=Calistoga&family=Varela+Round&family=Fredoka:wght@400;600&family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body>
    {% include marquee.html %}

    <header>
        <h1><a href="/">CFL Wiki</a></h1>
        <nav>
            {% include nav.html type="main" %}
        </nav>
    </header>

    <main>
        {{ content }}
    </main>

    <footer>
        <div class="footer-content">
            <div class="footer-social">
                <a href="https://github.com/ChicoFabLab" class="social-link" title="GitHub" target="_blank" rel="noopener">
                    ‚åò
                </a>
                <a href="https://discord.gg/chicofablab" class="social-link" title="Discord" target="_blank" rel="noopener">
                    üí¨
                </a>
            </div>
            <div class="footer-links">
                {% include nav.html type="footer" %}
            </div>
            <p>Chico Fab Lab ¬∑ 603 Orange Street ¬∑ Chico, CA</p>
            <p>Open Wednesdays 5-7pm and by arrangement</p>
            <span class="footer-badge">Built with Jekyll ¬∑ Hosted on GitHub Pages</span>
        </div>
    </footer>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        // Add copy buttons to code snippets
        var copyIcon = '<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>';
        var checkIcon = '<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"></polyline></svg>';

        document.querySelectorAll('.code-snippet__content').forEach(function(content) {
            var code = content.querySelector('code');
            if (code && !content.querySelector('.code-snippet__copy')) {
                var btn = document.createElement('button');
                btn.className = 'code-snippet__copy';
                btn.innerHTML = copyIcon + ' Copy';
                content.appendChild(btn);

                btn.addEventListener('click', function(e) {
                    e.stopPropagation();
                    navigator.clipboard.writeText(code.textContent.trim()).then(function() {
                        btn.classList.add('code-snippet__copy--copied');
                        btn.innerHTML = checkIcon + ' Copied';
                        setTimeout(function() {
                            btn.classList.remove('code-snippet__copy--copied');
                            btn.innerHTML = copyIcon + ' Copy';
                        }, 2000);
                    });
                });
            }
        });

        // Search clear button functionality
        document.querySelectorAll('.cfl-search__clear').forEach(function(btn) {
            btn.addEventListener('click', function() {
                var input = this.parentElement.querySelector('.cfl-search__input');
                if (input) {
                    input.value = '';
                    input.focus();
                    input.dispatchEvent(new Event('input', { bubbles: true }));
                }
            });
        });

        // Tabs functionality
        document.querySelectorAll('.cfl-tabs').forEach(function(tabContainer) {
            var tabs = tabContainer.querySelectorAll('.cfl-tabs__tab');
            tabs.forEach(function(tab) {
                tab.addEventListener('click', function() {
                    var targetId = this.getAttribute('data-tab');

                    // Deactivate all tabs and panels
                    tabContainer.querySelectorAll('.cfl-tabs__tab').forEach(function(t) {
                        t.classList.remove('cfl-tabs__tab--active');
                        t.setAttribute('aria-selected', 'false');
                    });
                    tabContainer.querySelectorAll('.cfl-tabs__panel').forEach(function(p) {
                        p.classList.remove('cfl-tabs__panel--active');
                        p.setAttribute('hidden', '');
                    });

                    // Activate clicked tab and its panel
                    this.classList.add('cfl-tabs__tab--active');
                    this.setAttribute('aria-selected', 'true');
                    var panel = tabContainer.querySelector('[data-panel="' + targetId + '"]');
                    if (panel) {
                        panel.classList.add('cfl-tabs__panel--active');
                        panel.removeAttribute('hidden');
                    }
                });
            });
        });

        // Toast notification system
        window.CFL = window.CFL || {};

        // Create toast container if it doesn't exist
        if (!document.querySelector('.cfl-toast-container')) {
            var container = document.createElement('div');
            container.className = 'cfl-toast-container';
            document.body.appendChild(container);
        }

        // Toast function
        window.CFL.toast = function(options) {
            var container = document.querySelector('.cfl-toast-container');
            var toast = document.createElement('div');
            toast.className = 'cfl-toast cfl-toast--' + (options.variant || 'info');

            var iconAnim = options.iconAnim || 'pop';
            toast.innerHTML =
                '<span class="cfl-toast__icon cfl-toast__icon--' + iconAnim + '">' + (options.icon || '‚ú®') + '</span>' +
                '<div class="cfl-toast__content">' +
                    '<div class="cfl-toast__title">' + (options.title || 'Notification') + '</div>' +
                    '<div class="cfl-toast__message">' + (options.message || '') + '</div>' +
                '</div>';

            container.appendChild(toast);

            // Auto remove after duration
            setTimeout(function() {
                toast.classList.add('cfl-toast--leaving');
                setTimeout(function() {
                    toast.remove();
                }, 300);
            }, options.duration || 3000);
        };

        // Fun toast presets
        window.CFL.toasts = {
            primary: function() {
                CFL.toast({ icon: 'üöÄ', title: 'Blast off!', message: 'Primary action initiated. Ready for launch!', variant: 'info', iconAnim: 'bounce' });
            },
            secondary: function() {
                CFL.toast({ icon: 'üé≠', title: 'Behind the scenes', message: 'Secondary actions are the unsung heroes.', variant: 'info', iconAnim: 'pop' });
            },
            ghost: function() {
                CFL.toast({ icon: 'üëª', title: 'Boo!', message: 'Ghost buttons are spooky subtle.', variant: 'info', iconAnim: 'shake' });
            },
            danger: function() {
                CFL.toast({ icon: 'üî•', title: 'Danger zone!', message: 'Handle with care. This is serious business.', variant: 'danger', iconAnim: 'shake' });
            },
            success: function() {
                CFL.toast({ icon: 'üéâ', title: 'Woohoo!', message: 'Everything worked perfectly!', variant: 'success', iconAnim: 'bounce' });
            },
            small: function() {
                CFL.toast({ icon: 'üêú', title: 'Small but mighty!', message: 'Size doesn\'t matter, impact does.', variant: 'info', iconAnim: 'pop' });
            },
            medium: function() {
                CFL.toast({ icon: 'üéØ', title: 'Right on target!', message: 'The Goldilocks zone of buttons.', variant: 'info', iconAnim: 'pop' });
            },
            large: function() {
                CFL.toast({ icon: 'ü¶ñ', title: 'Go big!', message: 'Large and in charge. No squinting required!', variant: 'info', iconAnim: 'bounce' });
            },
            rocket: function() {
                CFL.toast({ icon: 'üöÄ', title: '3... 2... 1... Liftoff!', message: 'Houston, we have ignition!', variant: 'party', iconAnim: 'bounce' });
            },
            pizza: function() {
                CFL.toast({ icon: 'üçï', title: 'Pizza time!', message: 'You deserve a slice. Great work!', variant: 'warning', iconAnim: 'spin' });
            },
            unicorn: function() {
                CFL.toast({ icon: 'ü¶Ñ', title: 'Magical!', message: 'Unicorns approve of this action.', variant: 'party', iconAnim: 'bounce' });
            },
            coffee: function() {
                CFL.toast({ icon: '‚òï', title: 'Coffee break!', message: 'Refueling creativity levels...', variant: 'warning', iconAnim: 'pop' });
            },
            sparkles: function() {
                CFL.toast({ icon: '‚ú®', title: 'Sparkle sparkle!', message: 'Adding a little magic to your day.', variant: 'party', iconAnim: 'spin' });
            },
            music: function() {
                CFL.toast({ icon: 'üéµ', title: 'Feel the beat!', message: 'Dancing through the code...', variant: 'info', iconAnim: 'bounce' });
            },
            brain: function() {
                CFL.toast({ icon: 'üß†', title: 'Big brain time!', message: '200 IQ play detected.', variant: 'success', iconAnim: 'pop' });
            },
            fire: function() {
                CFL.toast({ icon: 'üî•', title: 'This is fire!', message: 'Absolutely blazing performance!', variant: 'danger', iconAnim: 'shake' });
            },
            party: function() {
                CFL.toast({ icon: 'üéä', title: 'Party mode!', message: 'Let\'s celebrate! Confetti everywhere!', variant: 'party', iconAnim: 'bounce' });
            },
            robot: function() {
                CFL.toast({ icon: 'ü§ñ', title: 'Beep boop!', message: 'Automation activated. Humans optional.', variant: 'info', iconAnim: 'shake' });
            },
            heart: function() {
                CFL.toast({ icon: '‚ù§Ô∏è', title: 'Sending love!', message: 'You\'re doing amazing!', variant: 'danger', iconAnim: 'pop' });
            },
            lightning: function() {
                CFL.toast({ icon: '‚ö°', title: 'Lightning fast!', message: 'Speed is your superpower!', variant: 'warning', iconAnim: 'shake' });
            },
            cat: function() {
                CFL.toast({ icon: 'üê±', title: 'Meow!', message: 'Cats approve. That\'s the highest honor.', variant: 'info', iconAnim: 'bounce' });
            },
            dog: function() {
                CFL.toast({ icon: 'üêï', title: 'Good human!', message: 'Tail wagging intensifies!', variant: 'success', iconAnim: 'shake' });
            }
        };
    });
    </script>
</body>
</html>
